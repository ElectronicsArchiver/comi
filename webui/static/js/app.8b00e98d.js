(function(t){function e(e){for(var n,i,a=e[0],c=e[1],u=e[2],l=0,h=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,i=1;i<o.length;i++){var c=o[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},r={app:0},s=[];function i(t){return a.p+"js/"+({about:"about"}[t]||t)+"."+{about:"b31a0006"}[t]+".js"}function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.e=function(t){var e=[],o=r[t];if(0!==o)if(o)e.push(o[2]);else{var n=new Promise((function(e,n){o=r[t]=[e,n]}));e.push(o[2]=n);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=i(t);var u=new Error;s=function(e){c.onerror=c.onload=null,clearTimeout(l);var o=r[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",u.name="ChunkLoadError",u.type=n,u.request=s,o[1](u)}r[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(e)},a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var f=u;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("85ec"),r=o.n(n);r.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"manga_div",attrs:{id:"app"}},[o("h2",[o("a",{attrs:{href:"raw/"+t.book.name}},[t._v(t._s(t.book.name))])]),o("h4",[t._v("总页数："+t._s(t.book.page_num))]),t._l(t.bookshelf,(function(e){return o("div",{key:e.uuid,staticClass:"bookshelf"},[o("v-btn",{staticClass:"book_button",on:{click:function(o){return t.onChangeBook(e.uuid)}}},[t._v(t._s(e.name)+" ("+t._s(e.page_num)+")")])],1)})),t._l(t.book.pages,(function(e){return o("div",{key:e.num,staticClass:"manga"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"page.url"}],class:t._f("capitalize")(e.class,e.url),attrs:{H:e.height,W:e.width}})])})),o("p"),o("v-btn",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:t.btnFlag,expression:"btnFlag"}],attrs:{fab:"",color:"#bbcbff",bottom:"",right:""},on:{click:t.toTop}},[t._v("▲")])],2)},s=[],i=(o("d3b7"),o("25f0"),o("bc3a")),a=o.n(i),c={name:"app",components:{},data:function(){return{book:null,bookshelf:null,btnFlag:!1,duration:300,offset:0,easing:"easeInOutCubic",message:{user_uuid:"",server_status:"",now_book_uuid:"",read_percent:0,msg:""}}},filters:{capitalize:function(t,e){if(t=t.toString(),"Vertical"==t||"Horizontal"==t)return t;function o(e){var o=new Image;o.src=e,o.complete?t=o.width<o.height?"Vertical":"Horizontal":o.onload=function(){o.onload=null,t=o.width<o.height?"Vertical":"Horizontal"}}return o(e),t}},mounted:function(){this.getBook(),this.getBookShelf(),this.reFreshBook(),this.hintMessage(),this.initWebSocket()},destroyed:function(){this.$socket.close()},methods:{getBook:function(){var t=this;a.a.get("/book.json").then((function(e){return t.book=e.data})),a.a.get("/bookshelf.json").then((function(e){return t.bookshelf=e.data})).finally()},getBookShelf:function(){},reFreshBook:function(){},hintMessage:function(){},onScroll:function(t){if("undefined"!==typeof window){var e=window.pageYOffset||t.target.scrollTop||0;this.btnFlag=e>20}},toTop:function(){this.$vuetify.goTo(0)},initWebSocket:function(){this.$socket.onopen=this.websocketonopen,this.$socket.onerror=this.websocketonerror,this.$socket.onmessage=this.websocketonmessage,this.$socket.onclose=this.websocketclose,this.hint="连接建立",this.setButtonColor("green")},websocketonopen:function(t){this.hint="连接成功",this.setButtonColor("green"),console.log("连接建立",t)},websocketonerror:function(t){this.hint="连接出错",this.setButtonColor("#999999"),this.initWebSocket(),console.log("Connection Error !!!",t)},websocketonmessage:function(t){console.log(t),this.msgList.push(JSON.parse(t.data)),this.hint="接收消息",this.setButtonColor("blue",t)},onChangeBook:function(t,e){this.message.now_book_uuid=e,this.message.msg="ChangeBook",this.$socket.send(JSON.stringify(this.message)),this.getBook()},websocketsend:function(t){this.$socket.send(JSON.stringify(this.message)),console.log(this.$socket.readyState,t)},websocketclose:function(t){var e=this;this.hint="连接断开",console.log("断开连接",t),this.setButtonColor("#888888");var o=t.code,n=t.reason,r=t.wasClean;console.log(o,n,r);var s=setInterval((function(){e.$socket.onopen(),0==t.target.readyState&&clearInterval(s)}),3e3)},setButtonColor:function(t){var e=document.getElementsByClassName("hint")[0];e.style.background=t}}},u=c,l=(o("034f"),o("2877")),f=o("6544"),h=o.n(f),d=o("8336"),p=o("269a"),b=o.n(p),g=o("f977"),m=Object(l["a"])(u,r,s,!1,null,null,null),v=m.exports;h()(m,{VBtn:d["a"]}),b()(m,{Scroll:g["a"]});var k=o("8c4f"),w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"Home"}})},y=[],_=(o("99af"),o("4de4"),o("2909")),S={name:"Home",components:{},data:function(){return{todos:[]}},methods:{deleteTodo:function(t){this.todos=this.todos.filter((function(e){return e.id!==t}))},addTodo:function(t){var e=this,o=t.title,n=t.completed;a.a.post("https://jsonplaceholder.typicode.com/todos",{title:o,completed:n}).then((function(t){return e.todos=[].concat(Object(_["a"])(e.todos),[t.data])})).catch((function(t){return console.log(t)}))}},created:function(){var t=this;a.a.get("https://jsonplaceholder.typicode.com/todos?_limit=4").then((function(e){return t.todos=e.data})).catch((function(t){return console.log(t)}))}},C=S,O=(o("cccb"),Object(l["a"])(C,w,y,!1,null,null,null)),j=O.exports;n["a"].use(k["a"]);var B=[{path:"/",name:"Home",component:j},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}}],$=new k["a"]({routes:B}),x=$,T=o("caf9"),P=o("b408"),z=o.n(P),E=o("f309");n["a"].use(E["a"]);var H=new E["a"]({});n["a"].use(z.a,"ws://"+document.location.host+"/ws",{reconnection:!0,reconnectionAttempts:5e3,reconnectionDelay:1e3}),n["a"].config.productionTip=!1,n["a"].use(T["a"],{preLoad:4.5,attempt:5}),new n["a"]({router:x,vuetify:H,render:function(t){return t(v)}}).$mount("#app")},"5ced":function(t,e,o){},"85ec":function(t,e,o){},cccb:function(t,e,o){"use strict";var n=o("5ced"),r=o.n(n);r.a}});
//# sourceMappingURL=app.8b00e98d.js.map